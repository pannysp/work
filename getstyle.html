<!DOCTYPE>
<html>
<head>
<meta charset="utf-8" />
<title>获取元素的当前样式</title>
<style type="text/css">
    div{
        margin-top:20px;
        padding:5px;
        width:100px;
        height:100px;
        border:3px solid #ccc;
        background:red;
        color:#ccc;
        }
</style>
</head>

<body>
    <input type="button" value="获取元素的结果样式" id="btn" />
  <div id="div1" style="font-size:24px;" title="哈哈">点击按钮显示我的样式</div>
<script type="text/javascript">
window.onload = function()
{
    var oBtn = document.getElementById('btn');
    var oDiv = document.getElementById('div1');
    //功能：获取元素的样式
    //1,对象.getAttributes(属性)/对象.getAttributes(属性，属性值) ===========获取/设置标签属性样式,eg:alert(oDiv.getAttribute('id'));
    //2,对象.style.属性 ============获取/设置内联样式(带单位),eg:alert(oDiv.style.fontSize);
    //3,对象.标签属性 ============获取/设置标签属性样式,eg:alert(oDiv.title);
    
    //功能：获取当前效果&最终效果(带单位)
    //1,对象.currentStyle.属性 =============[支持浏览器ie，opera]获取当前元素的样式（最终样式，同时包含浏览器默认样式,属性不能为复合属性如background）,eg:alert(oDiv.currentStyle.marginTop);
    //2,getComputedStyle(对象，false).属性 ================[DOM标准，支持浏览器ff等]获取当前元素的新式，eg:alert(getComputedStyle(oDiv,false).marginTop)
    
    //功能：面向过程（获取元素当前样式）
    function getStyle(obj,arr)
    {
        if(obj.currentStyle)
        {
            return obj.currentStyle[arr];
        }
        else
        {
            return getComputedStyle(obj,false)[arr];
        }
    }
    
    //功能：面向对象[工厂方法]（获取元素当前样式）
/*  function GetStyle(obj,arr)
    {
        this.obj = obj;
        this.arr = arr;
        this.getCss = function()
        {
            if(this.obj.currentStyle)
            {
                return this.obj.currentStyle[this.arr];
            }
            else
            {
                return getComputedStyle(this.obj,false)[this.arr];
            }
        }
    }
    var marginTop = new GetStyle(oDiv,'marginTop')
    alert(marginTop.getCss());*/
    
    //功能：面向对象[工厂+原型](获取元素当前样式)
/*  function GetStyle(obj,arr)
    {
        this.obj = obj;
        this.arr = arr;
    }
    GetStyle.prototype.getCss = function()
    {
        if(this.obj.currentStyle)
        {
            return this.obj.currentStyle[this.arr];
        }
        else
        {
            return getComputedStyle(this.obj,false)[this.arr];
        }
    }*/
    oBtn.onclick = function()
    {
        alert('宽度：' + getStyle(oDiv,'width') + ';\n高度：' + getStyle(oDiv,'height') + ';\n背景颜色:' + getStyle(oDiv,'backgroundColor') )
    }
}
</script>
</body>
</html>